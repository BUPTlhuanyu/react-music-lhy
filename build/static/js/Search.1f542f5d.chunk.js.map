{"version":3,"sources":["api/singer.js","app/reusablecomponents/no-result/NoResult.tsx","app/actions/singer.ts","common/js/singer.js","app/components/singer-detail/SingerDetail.tsx","../node_modules/lodash/debounce.js","../node_modules/lodash/now.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/isSymbol.js","app/reusablecomponents/search-box/SearchBox.tsx","api/search.js","app/components/suggest/Suggest.tsx","app/reusablecomponents/search-list/SearchList.tsx","app/components/search/Search.tsx","app/actions/search.ts"],"names":["__webpack_require__","d","__webpack_exports__","getSingerList","getSingerDetail","common_js_ws__WEBPACK_IMPORTED_MODULE_0__","_config__WEBPACK_IMPORTED_MODULE_1__","data","Object","assign","commonParams","channel","page","key","pagesize","pagenum","hostUin","needNewCode","platform","jsonp","options","singerId","order","begin","num","songstatus","singermid","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","NoResult","_ref","_ref$title","title","a","createElement","className","setSinger","_actionsTypes__WEBPACK_IMPORTED_MODULE_0__","singer","type","types","SingerClass","id","name","F_web_music_lhy_react_music_lhy_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","avatar","concat","SingerDetailBase","props","_this","F_web_music_lhy_react_music_lhy_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","F_web_music_lhy_react_music_lhy_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","unmoutedFlag","back","setState","showMusicList","_getSingerDetail","then","res","code","ERR_OK","songs","_normalizeSongs","list","ret","forEach","item","musicData","songid","albummid","push","createSong","state","history","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","react_transition_group__WEBPACK_IMPORTED_MODULE_7__","in","timeout","classNames","appear","unmountOnExit","onExited","goBack","components_music_list_MusicList__WEBPACK_IMPORTED_MODULE_11__","singerName","bgImage","Component","SingerDetail","withRouter","connect","isObject","now","toNumber","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","module","exports","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","arguments","leadingEdge","cancel","clearTimeout","flush","root","Date","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","value","other","valueOf","replace","isBinary","test","slice","baseGetTag","isObjectLike","symbolTag","SearchBox","classCallCheck","possibleConstructorReturn","getPrototypeOf","queryHandler","setQuery","query","onChangeHandler","e","target","queryHandlerDebounce","clear","debounce","placeholder","_this$state","react_default","onChange","bind","onClick","style","display","search","zhida","perpage","w","p","catZhida","zhidaqu","flag","ie","sem","uin","ct","qqmusic_ver","new_json","remoteplace","searchid","t","aggr","cr","lossless","flag_qc","g_tk","loginUin","format","inCharset","outCharset","notice","axios","get","params","Promise","resolve","TYPE_SINGER","Suggest","suggest","getIconCls","findIndex","song","insertSong","playlist","sequenceList","currentIndex","currentSong","fpIndex","splice","currentSIndex","fsIndex","setPlaylist","setSequenceList","setCurrentIndex","setFullScreen","setPlaying","selectItem","singerMID","saveSearch","getDisplayName","pullUpHandler","suggestHandler","React","createRef","current","scrollTo","_this$props","hasMore","Scroll","probeType","pullUp","ref","length","map","index","Loading","fullScreen","playing","dispatch","ownProps","objectSpread","SearchList","searches","deleteItem","stopPropagation","Search","searchBox","confirm","onQueryChange","_getHotKey","getHotKey","hotKey","hotkey","addQuery","_genResult","_checkMore","curnum","curpage","totalnum","zhida_singer","singerID","searchMore","setSearchHistory","deleteSearch","clearSearchHistory","clearSearch","showConfirm","show","album","mid","createSongSearch","searchHistory","reusablecomponents_search_box_SearchBox","k","reusablecomponents_search_list_SearchList","components_suggest_Suggest","Confirm","text","confirmBtnText","confirmHandler","Route","path","component"],"mappings":"0FAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAA,IAAAC,EAAAL,EAAA,IAAAM,EAAAN,EAAA,IAGO,SAASG,IACd,IAEMI,EAAOC,OAAOC,OAAO,GAAIC,IAAc,CAC3CC,QAAS,SACTC,KAAM,OACNC,IAAK,cACLC,SAAU,IACVC,QAAS,EACTC,QAAS,EACTC,YAAa,EACbC,SAAU,QAGZ,OAAOC,YAbK,uCAaMZ,EAAMa,KAGnB,SAAShB,EAAgBiB,GAC9B,IAEMd,EAAOC,OAAOC,OAAO,GAAIC,IAAc,CAC3CM,QAAS,EACTC,YAAa,EACbC,SAAU,MACVI,MAAO,SACPC,MAAO,EACPC,IAAK,GACLC,WAAY,EACZC,UAAWL,IAGb,OAAOF,YAbK,2DAaMZ,EAAMa,wCClC1B,IAAAO,EAAA3B,EAAA,GAAA4B,EAAA5B,EAAA6B,EAAAF,GAAA3B,EAAA,KAsBe8B,IAT6B,SAAAC,GAAkB,IAAAC,EAAAD,EAAhBE,aAAgB,IAAAD,EAAR,GAAQA,EAC1D,OACIJ,EAAAM,EAAAC,cAAA,OAAKC,UAAU,aACXR,EAAAM,EAAAC,cAAA,OAAKC,UAAU,mBACfR,EAAAM,EAAAC,cAAA,KAAGC,UAAU,kBAAkBH,6DCjB3CjC,EAAAC,EAAAC,EAAA,sBAAAmC,IAAA,IAAAC,EAAAtC,EAAA,GAGaqC,EAA6B,SAACE,GACvC,MAAO,CACHC,KAAMC,IACNF,wFCNaG,EACnB,SAAAA,EAAAX,GAAwB,IAAXY,EAAWZ,EAAXY,GAAIC,EAAOb,EAAPa,KAAOpC,OAAAqC,EAAA,EAAArC,CAAAsC,KAAAJ,GACtBI,KAAKH,GAAKA,EACVG,KAAKF,KAAOA,EACZE,KAAKC,OAAL,sDAAAC,OAAoEL,EAApE,qLC0BEM,cAEF,SAAAA,EAAYC,GAA2B,IAAAC,EAAA,OAAA3C,OAAAqC,EAAA,EAAArC,CAAAsC,KAAAG,IACnCE,EAAA3C,OAAA4C,EAAA,EAAA5C,CAAAsC,KAAAtC,OAAA6C,EAAA,EAAA7C,CAAAyC,GAAAK,KAAAR,KAAMI,KAFVK,kBACuC,EAAAJ,EASvCK,KAAO,WACHL,EAAKM,SAAS,CACVC,eAAc,KAXiBP,EA2BvCQ,iBAAmB,WACfvD,YAAgB+C,EAAKD,MAAMX,OAAOI,IAAIiB,KAAK,SAACC,GACpCA,EAAIC,OAASC,KAAWZ,EAAKI,cAC7BJ,EAAKM,SAAS,CACVO,MAAOb,EAAKc,gBAAgBJ,EAAItD,KAAK2D,WA/Bdf,EAqCvCc,gBAAkB,SAACC,GACf,IAAIC,EAAS,GAOb,OANAD,EAAKE,QAAQ,SAACC,GAAS,IACdC,EAAaD,EAAbC,UACDA,EAAUC,QAAUD,EAAUE,UAC9BL,EAAIM,KAAKC,YAAWJ,MAGrBH,GA3CPhB,EAAKI,cAAa,EAClBJ,EAAKwB,MAAS,CACVjB,eAAe,EACfM,MAAM,IALyBb,mFAgBhCL,KAAKI,MAAMX,QAAUO,KAAKI,MAAMX,OAAOI,GAAK,EAC3CG,KAAKI,MAAM0B,QAAQH,KAAK,WAG5B3B,KAAKa,kEAILb,KAAKS,cAAa,mCAwBd,IAAAsB,EAAA/B,KACIP,EAAWO,KAAKI,MAAhBX,OACAyB,EAAUlB,KAAK6B,MAAfX,MAER,OACIc,EAAA5C,EAAAC,cAAC4C,EAAA,cAAD,CACIC,GAAIlC,KAAK6B,MAAMjB,cACfuB,QAAS,IACTC,WAAW,2BACXC,QAAQ,EACRC,eAAa,EACbC,SAAa,WACTR,EAAK3B,MAAM0B,QAAQU,WAGvBR,EAAA5C,EAAAC,cAACoD,EAAA,EAAD,CAAWC,WAAYjD,EAAOK,KAAM6C,QAASlD,EAAOQ,OAAQiB,MAAOA,EAAOR,KAAMV,KAAKU,eAjEtEkC,aA6EzBC,EAAeC,YAAWC,YANR,SAAClB,GAAD,MACpB,CACIpC,OAAOoC,EAAMpC,SAIWsD,CAAyB5C,IAE1C0C,uEC7Gf,IAAAG,EAAe9F,EAAQ,IACvB+F,EAAU/F,EAAQ,KAClBgG,EAAehG,EAAQ,KAIvBiG,EAAA,sBAGAC,EAAAC,KAAAC,IACAC,EAAAF,KAAAG,IAsLAC,EAAAC,QA9HA,SAAAC,EAAAC,EAAAtF,GACA,IAAAuF,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAA,EACAC,GAAA,EACAC,GAAA,EACAC,GAAA,EAEA,sBAAAX,EACA,UAAAY,UAAApB,GAYA,SAAAqB,EAAAC,GACA,IAAAC,EAAAb,EACAc,EAAAb,EAIA,OAHAD,EAAAC,OAAAc,EACAT,EAAAM,EACAT,EAAAL,EAAAkB,MAAAF,EAAAD,GAoBA,SAAAI,EAAAL,GACA,IAAAM,EAAAN,EAAAP,EAKA,YAAAU,IAAAV,GAAAa,GAAAnB,GAAAmB,EAAA,GAAAV,GAJAI,EAAAN,GAIAJ,EAGA,SAAAiB,IACA,IAAAP,EAAAxB,IAEA,GAAA6B,EAAAL,GACA,OAAAQ,EAAAR,GAIAR,EAAAiB,WAAAF,EAxBA,SAAAP,GACA,IAEAU,EAAAvB,GAFAa,EAAAP,GAGA,OAAAG,EAAAd,EAAA4B,EAAApB,GAFAU,EAAAN,IAEAgB,EAoBAC,CAAAX,IAGA,SAAAQ,EAAAR,GAIA,OAHAR,OAAAW,EAGAN,GAAAT,EACAW,EAAAC,IAGAZ,EAAAC,OAAAc,EACAZ,GAgBA,SAAAqB,IACA,IAAAZ,EAAAxB,IACAqC,EAAAR,EAAAL,GAKA,GAJAZ,EAAA0B,UACAzB,EAAA9D,KACAkE,EAAAO,EAEAa,EAAA,CACA,QAAAV,IAAAX,EACA,OAtEA,SAAAQ,GAMA,OAJAN,EAAAM,EAEAR,EAAAiB,WAAAF,EAAApB,GAEAQ,EAAAI,EAAAC,GAAAT,EAgEAwB,CAAAtB,GAGA,GAAAG,EAGA,OADAJ,EAAAiB,WAAAF,EAAApB,GACAY,EAAAN,GAQA,YAJAU,IAAAX,IACAA,EAAAiB,WAAAF,EAAApB,IAGAI,EAKA,OA3GAJ,EAAAV,EAAAU,IAAA,EAEAZ,EAAA1E,KACA8F,IAAA9F,EAAA8F,QAEAL,GADAM,EAAA,YAAA/F,GACA8E,EAAAF,EAAA5E,EAAAyF,UAAA,EAAAH,GAAAG,EACAO,EAAA,aAAAhG,MAAAgG,YAmGAe,EAAAI,OAvCA,gBACAb,IAAAX,GACAyB,aAAAzB,GAGAE,EAAA,EACAN,EAAAK,EAAAJ,EAAAG,OAAAW,GAkCAS,EAAAM,MA/BA,WACA,YAAAf,IAAAX,EAAAD,EAAAiB,EAAAhC,MA+BAoC,wBC7LA,IAAAO,EAAW1I,EAAQ,IAuBnBuG,EAAAC,QAJA,WACA,OAAAkC,EAAAC,KAAA5C,4BCpBA,IAAAD,EAAe9F,EAAQ,IACvB4I,EAAe5I,EAAQ,KAIvB6I,EAAA,IAGAC,EAAA,aAGAC,EAAA,qBAGAC,EAAA,aAGAC,EAAA,cAGAC,EAAAC,SAgDA5C,EAAAC,QAvBA,SAAA4C,GACA,oBAAAA,EACA,OAAAA,EAGA,GAAAR,EAAAQ,GACA,OAAAP,EAGA,GAAA/C,EAAAsD,GAAA,CACA,IAAAC,EAAA,mBAAAD,EAAAE,QAAAF,EAAAE,UAAAF,EACAA,EAAAtD,EAAAuD,KAAA,GAAAA,EAGA,oBAAAD,EACA,WAAAA,OAGAA,IAAAG,QAAAT,EAAA,IACA,IAAAU,EAAAR,EAAAS,KAAAL,GACA,OAAAI,GAAAP,EAAAQ,KAAAL,GAAAF,EAAAE,EAAAM,MAAA,GAAAF,EAAA,KAAAT,EAAAU,KAAAL,GAAAP,GAAAO,wBCjEA,IAAAO,EAAiB3J,EAAQ,IACzB4J,EAAmB5J,EAAQ,IAI3B6J,EAAA,kBAuBAtD,EAAAC,QAJA,SAAA4C,GACA,uBAAAA,GAAAQ,EAAAR,IAAAO,EAAAP,IAAAS,wMC+CeC,cAzDX,SAAAA,EAAY5G,GAAwB,IAAAC,EAAA,OAAA3C,OAAAuJ,EAAA,EAAAvJ,CAAAsC,KAAAgH,IAChC3G,EAAA3C,OAAAwJ,EAAA,EAAAxJ,CAAAsC,KAAAtC,OAAAyJ,EAAA,EAAAzJ,CAAAsJ,GAAAxG,KAAAR,KAAMI,KAFVgH,kBACoC,EAAA/G,EAWpCgH,SAAW,SAACC,GACRjH,EAAKM,SAAS,CACV2G,MAAOA,KAbqBjH,EAiBpCkH,gBAA+D,SAACC,GAC5DnH,EAAKM,SAAS,CACV2G,MAAOE,EAAEC,OAAOnB,QAKpBjG,EAAKqH,qBAAqBF,EAAEC,OAAOnB,QAxBHjG,EA2BpCqH,qBAAuB,SAACpB,GACpBjG,EAAKD,MAAMgH,aAAad,IA5BQjG,EA+BpCsH,MAAQ,WACJtH,EAAKM,SAAS,CACV2G,MAAM,KAEVjH,EAAKD,MAAMgH,aAAa,KAjCxB/G,EAAKqH,qBAAuBE,IAASvH,EAAKqH,qBAAsB,IAAK,CACjEtD,SAAS,IAEb/D,EAAKwB,MAAQ,CACTgG,YAAY,6CACZP,MAAM,IAPsBjH,wEAsC5B,IAAAyH,EAC2B9H,KAAK6B,MAA5BgG,EADJC,EACID,YAAaP,EADjBQ,EACiBR,MACrB,OACIS,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,cACXyI,EAAA3I,EAAAC,cAAA,KAAGC,UAAU,gBACbyI,EAAA3I,EAAAC,cAAA,SAAOC,UAAU,MACVuI,YAAaA,EACbG,SAAUhI,KAAKuH,gBAAgBU,KAAKjI,MACpCsG,MAAQgB,IAEfS,EAAA3I,EAAAC,cAAA,KAAIC,UAAU,eACV4I,QAAUlI,KAAK2H,MACfQ,MAAO,CAACC,QAAQd,EAAO,GAAG,kBApDtB1E,uDC2BjB,SAASyF,EAAOf,EAAOxJ,EAAMwK,EAAOC,GACzC,IAEM9K,EAAOC,OAAOC,OAAO,GAAIC,IAAc,CAC3C4K,EAAGlB,EACHmB,EAAG3K,EACHyK,UACAxJ,EAAGwJ,EACHG,SAAUJ,EAAQ,EAAI,EACtBK,QAAS,EACTC,KAAM,EACNC,GAAI,QACJC,IAAK,EACLC,IAAK,EACLC,GAAI,GACJC,YAAa,KACbC,SAAU,EACVC,YAAa,eACbC,SAAU,iBACVC,EAAG,EACHC,KAAM,EACNC,GAAI,EACJC,SAAU,EACVC,QAAS,EACTC,KAAM,KACNC,SAAU,EACVzL,QAAS,EACT0L,OAAQ,OACRC,UAAW,OACXC,WAAY,QACZC,OAAQ,EACR3L,SAAU,WACVD,YAAa,IAGf,OAAO6L,IAAMC,IAlCD,aAkCU,CACpBC,OAAQzM,IACPqD,KAAK,SAACC,GACP,OAAOoJ,QAAQC,QAAQrJ,EAAItD,yFCjDzB4M,EAAc,SA0BdC,cAEF,SAAAA,EAAYlK,GAAsB,IAAAC,EAAA,OAAA3C,OAAAuJ,EAAA,EAAAvJ,CAAAsC,KAAAsK,IAC9BjK,EAAA3C,OAAAwJ,EAAA,EAAAxJ,CAAAsC,KAAAtC,OAAAyJ,EAAA,EAAAzJ,CAAA4M,GAAA9J,KAAAR,KAAMI,KAFVmK,aACkC,EAAAlK,EAKlCmK,WAAa,SAACjJ,GACV,OAAIA,EAAK7B,OAAS2K,EACP,YAEA,cATmBhK,EAmBlCoK,UAAY,SAACrJ,EAAoBsJ,GAC7B,OAAOA,GAAQtJ,EAAKqJ,UAAU,SAAClJ,GAC3B,OAAOA,EAAK1B,KAAO6K,EAAK7K,MArBEQ,EAyBlCsK,WAAa,SAACD,GACV,IAAIE,EAAWvK,EAAKD,MAAMwK,SAAShE,QAC/BiE,EAAexK,EAAKD,MAAMyK,aAAajE,QACvCkE,EAAezK,EAAKD,MAAM0K,aAE1BC,EAAcH,EAASE,GAEvBE,EAAU3K,EAAKoK,UAAUG,EAAUF,GAEvCI,IAEAF,EAASK,OAAOH,EAAc,EAAGJ,GAE7BM,GAAW,IAEPF,EAAeE,GACfJ,EAASK,OAAOD,EAAS,GACzBF,KAEAF,EAASK,OAAOD,EAAU,EAAG,IAIrC,IAAIE,EAAgB7K,EAAKoK,UAAUI,EAAcE,GAAe,EAE5DI,EAAU9K,EAAKoK,UAAUI,EAAcH,GAE3CG,EAAaI,OAAOC,EAAe,EAAGR,GAElCS,GAAW,IACPD,EAAgBC,EAChBN,EAAaI,OAAOE,EAAS,GAE7BN,EAAaI,OAAOE,EAAU,EAAG,IAGzC9K,EAAKD,MAAMgL,YAAYR,GACvBvK,EAAKD,MAAMiL,gBAAgBR,GAC3BxK,EAAKD,MAAMkL,gBAAgBR,GAC3BzK,EAAKD,MAAMmL,eAAc,GACzBlL,EAAKD,MAAMoL,YAAW,IAjEQnL,EAoElCoL,WAAa,SAAClK,GACV,GAAIA,EAAK7B,OAAS2K,EAAa,CAC3B,IAAM5K,EAAS,IAAIG,IAAY,CAC3BC,GAAI0B,EAAKmK,UACT5L,KAAMyB,EAAKmB,aAEfrC,EAAKD,MAAM0B,QAAQH,KAAnB,WAAAzB,OAAmCT,EAAOI,KAC1CQ,EAAKD,MAAMb,UAAUE,QAErBY,EAAKsK,WAAWpJ,GAEpBlB,EAAKD,MAAMuL,cA/EmBtL,EAkFlCuL,eAAgB,SAACrK,GACb,OAAIA,EAAK7B,OAAS2K,EACP9I,EAAKmB,WAEZ,GAAAxC,OAAUqB,EAAKzB,KAAf,KAAAI,OAAuBqB,EAAK9B,SAtFFY,EA0FlCwL,cAAgB,WACZxL,EAAKD,MAAM0L,kBAzFXzL,EAAKkK,QAAUwB,IAAMC,YAFS3L,oFAcP,IAApBL,KAAKI,MAAMtC,MAAckC,KAAKuK,QAAQ0B,SACrCjM,KAAKuK,QAAQ0B,QAAQC,SAAS,EAAG,oCA+EjC,IAAAnK,EAAA/B,KAAAmM,EACwBnM,KAAKI,MAAzB4D,EADJmI,EACInI,OAAQoI,EADZD,EACYC,QAChB,OACIrE,EAAA3I,EAAAC,cAACgN,EAAA,EAAD,CACIC,UAAW,EACXC,QAAQ,EACRV,cAAe7L,KAAK6L,cACpBvM,UAAU,UACVkN,IAAKxM,KAAKuK,SAEVxC,EAAA3I,EAAAC,cAAA,MAAIC,UAAU,kBAEJ0E,EAAOyI,QAAUzI,EAAO0I,IAAI,SAACnL,EAAMoL,GAAP,OAC1B5E,EAAA3I,EAAAC,cAAA,MAAKtB,IAAK4O,EACLrN,UAAU,eACV4I,QAAS,WAAOnG,EAAK0J,WAAWlK,KAEjCwG,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,QACXyI,EAAA3I,EAAAC,cAAA,KAAGC,UAAWyC,EAAKyI,WAAWjJ,MAElCwG,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,QACXyI,EAAA3I,EAAAC,cAAA,KAAGC,UAAU,QAAQyC,EAAK6J,eAAerK,QAMrD6K,GACArE,EAAA3I,EAAAC,cAACuN,EAAA,EAAD,OAIR7E,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,oBAAoB6I,MAAO,CAACC,QAAUgE,GAAYpI,EAAOyI,OAAW,OAAH,KAC5E1E,EAAA3I,EAAAC,cAACL,EAAA,EAAD,CAAUG,MAAM,oEAjIdyD,aAwKPE,cAAWC,YAhCF,SAAClB,GAAD,MAAwB,CAC5CgL,WAAahL,EAAMgL,WACnBjC,SAAW/I,EAAM+I,SACjBE,aAAejJ,EAAMiJ,aACrBgC,QAAQjL,EAAMiL,QACdjC,aAAahJ,EAAMgJ,eAGI,SAACkC,EAAmBC,GAC3C,OAAOtP,OAAAuP,EAAA,EAAAvP,CAAA,GACAsP,EADP,CAEIzN,UAAW,SAACE,GAAD,OACPsN,EAASxN,YAAUE,KAEvB+L,WAAY,SAACsB,GAAD,OACRC,EAASvB,YAAWsB,KAExBvB,cAAe,SAACsB,GAAD,OACXE,EAASxB,YAAcsB,KAE3BxB,gBAAiB,SAACjK,GAAD,OACb2L,EAAS1B,YAAgBjK,KAE7BgK,YAAa,SAAChK,GAAD,OACT2L,EAAS3B,YAAYhK,KAEzBkK,gBAAiB,SAACqB,GAAD,OACbI,EAASzB,YAAgBqB,QAKX5J,CAA6CuH,4CC1LxD4C,UA1BiC,SAAAjO,GAAsC,IAApCkO,EAAoClO,EAApCkO,SAAS1B,EAA2BxM,EAA3BwM,WAAW2B,EAAgBnO,EAAhBmO,WAClE,OACIrF,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,cAAc6I,MAAO,CAACC,QAAQ+E,EAASV,OAAO,GAAG,SAC5D1E,EAAA3I,EAAAC,cAAA,YAEU8N,EAASV,QAAUU,EAAST,IAAI,SAACnL,EAAMoL,GAAP,OAC9B5E,EAAA3I,EAAAC,cAAA,MAAItB,IAAK4O,EACLrN,UAAU,cACV4I,QAAS,WAAKuD,EAAWlK,KAEzBwG,EAAA3I,EAAAC,cAAA,QAAMC,UAAU,QAAQiC,GACxBwG,EAAA3I,EAAAC,cAAA,QAAMC,UAAU,OACV4I,QAAS,SAACV,GACPA,EAAE6F,kBACFD,EAAW7L,KAExBwG,EAAA3I,EAAAC,cAAA,KAAGC,UAAU,gCCN/B+K,EAAc,SACd9B,EAAU,GAeV+E,cAIF,SAAAA,EAAYlN,GAAqB,IAAAC,EAAA,OAAA3C,OAAAuJ,EAAA,EAAAvJ,CAAAsC,KAAAsN,IAC7BjN,EAAA3C,OAAAwJ,EAAA,EAAAxJ,CAAAsC,KAAAtC,OAAAyJ,EAAA,EAAAzJ,CAAA4P,GAAA9M,KAAAR,KAAMI,KAJVmN,eAGiC,EAAAlN,EAFjCI,kBAEiC,EAAAJ,EADjCmN,aACiC,EAAAnN,EAmBjCoN,cAAgB,SAACnG,GACbjH,EAAKM,SAAS,CACV2G,UAEJjH,EAAKgI,OAAOf,IAvBiBjH,EA0BjCqN,WAAa,YH/DV,WACL,IAEMjQ,EAAOC,OAAOC,OAAO,GAAIC,IAAc,CAC3CmL,IAAK,EACL5K,YAAa,EACbC,SAAU,OAGZ,OAAOC,YARK,qDAQMZ,EAAMa,MGuDlBqP,GAAY7M,KAAK,SAACC,GACVA,EAAIC,OAASC,KAAWZ,EAAKI,cAC7BJ,EAAKM,SAAS,CACViN,OAAQ7M,EAAItD,KAAKoQ,OAAOjH,MAAM,EAAG,SA9BhBvG,EAoCjCyN,SAAW,SAACxG,GACJjH,EAAKkN,UAAUtB,UAEnB5L,EAAKkN,UAAUtB,QAAQ5E,SAASC,GAChCjH,EAAKM,SAAS,CACV2G,UAEJjH,EAAKgI,OAAOf,KA3CiBjH,EAgDjCgI,OAAS,SAACf,GACNjH,EAAKM,SAAS,CACV7C,KAAK,EACLsO,SAAQ,IAEZ/D,EAAOf,EAAOjH,EAAKwB,MAAM/D,MAAM,EAAMyK,GAASzH,KAAK,SAACC,GAC5CA,EAAIC,OAASC,KAAWZ,EAAKI,cAC7BJ,EAAKM,SAAS,CACVqD,OAAS3D,EAAK0N,WAAWhN,EAAItD,MAC7B2O,QAAU/L,EAAK2N,WAAWjN,EAAItD,WAzDb4C,EA+DjC2N,WAAa,SAACvQ,GACV,IAAMiN,EAAOjN,EAAKiN,KAClB,SAAKA,EAAKtJ,KAAKqL,QAAW/B,EAAKuD,OAASvD,EAAKwD,QAAU3F,EAAWmC,EAAKyD,WAjE1C9N,EAuEjC0N,WAAa,SAACtQ,GACV,IAAI4D,EAAM,GAOV,OANI5D,EAAK6K,OAAS7K,EAAK6K,MAAM8F,cAAgB3Q,EAAK6K,MAAM8F,aAAaC,UACjEhN,EAAIM,KAAJjE,OAAAuP,EAAA,EAAAvP,CAAA,GAAaD,EAAK6K,MAAM8F,aAAiB,CAAC1O,KAAM2K,KAEhD5M,EAAKiN,OACLrJ,EAAMA,EAAInB,OAAOG,EAAKc,gBAAgB1D,EAAKiN,KAAKtJ,QAE7CC,GA/EsBhB,EA4FjCiO,WAAa,WACJjO,EAAKwB,MAAMuK,UAGhB/L,EAAKM,SAAS,SAACkB,GAAD,MAAY,CACtB/D,KAAO+D,EAAM/D,KAAO,KAExBuK,EAAOhI,EAAKwB,MAAMyF,MAAOjH,EAAKwB,MAAM/D,MAAM,EAAOyK,GAASzH,KAAK,SAACC,GACxDA,EAAIC,OAASC,KAAWZ,EAAKI,cAC7BJ,EAAKM,SAAS,CACVqD,OAAS3D,EAAKwB,MAAMmC,OAAO9D,OAAOG,EAAK0N,WAAWhN,EAAItD,OACtD2O,QAAU/L,EAAK2N,WAAWjN,EAAItD,YAvGb4C,EA6GjCsL,WAAa,WACTtL,EAAKD,MAAMmO,iBAAiB5C,YAAWtL,EAAKwB,MAAMyF,SA9GrBjH,EAiHjCmO,aAAe,SAAClH,GACZjH,EAAKD,MAAMmO,iBAAiBC,YAAalH,KAlHZjH,EAqHjCoO,mBAAqB,WACjBpO,EAAKD,MAAMmO,iBAAiBG,gBAtHCrO,EAyHjCsO,YAAc,WACNtO,EAAKmN,QAAQvB,SACjB5L,EAAKmN,QAAQvB,QAAQ2C,QAzHrBvO,EAAKI,cAAe,EACpBJ,EAAKkN,UAAYxB,IAAMC,YACvB3L,EAAKmN,QAAUzB,IAAMC,YACrB3L,EAAKwB,MAAQ,CACT+L,OAAO,GACPtG,MAAM,GACNxJ,KAAK,EACLkG,OAAO,GACPoI,SAAQ,GAViB/L,mFAe7BL,KAAK0N,qDAmEOtM,GACZ,IAAIC,EAAiB,GAMrB,OALAD,EAAKE,QAAQ,SAACE,GACNA,EAAU3B,IAAM2B,EAAUqN,MAAMC,KAChCzN,EAAIM,KAAKoN,YAAiBvN,MAG3BH,mCAqCH,IAAAU,EAAA/B,KAAA8H,EAC6C9H,KAAK6B,MAA9C+L,EADJ9F,EACI8F,OAAQtG,EADZQ,EACYR,MAAOtD,EADnB8D,EACmB9D,OAAQoI,EAD3BtE,EAC2BsE,QAAStO,EADpCgK,EACoChK,KAChCkR,EAAkBhP,KAAKI,MAAvB4O,cACR,OACIjH,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,UACXyI,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,sBACXyI,EAAA3I,EAAAC,cAAC4P,EAAD,CAAWzC,IAAKxM,KAAKuN,UAAWnG,aAAcpH,KAAKyN,iBAEvD1F,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,mBAAmB6I,MAAO,CAACC,QAASd,EAAS,OAAH,KACrDS,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,YACXyI,EAAA3I,EAAAC,cAAA,WACI0I,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,WACXyI,EAAA3I,EAAAC,cAAA,MAAIC,UAAU,SAAd,4BACAyI,EAAA3I,EAAAC,cAAA,YAEUuO,EAAOnB,QAAUmB,EAAOlB,IAAI,SAACnL,EAAMoL,GAAP,OAC1B5E,EAAA3I,EAAAC,cAAA,MAAItB,IAAK4O,EACLrN,UAAU,OACV4I,QAAS,WAAKnG,EAAK+L,SAASvM,EAAK2N,KAEjCnH,EAAA3I,EAAAC,cAAA,YAAOkC,EAAK2N,QAMhCnH,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,kBACXyI,EAAA3I,EAAAC,cAAA,MAAIC,UAAU,SACVyI,EAAA3I,EAAAC,cAAA,QAAMC,UAAU,QAAhB,4BACAyI,EAAA3I,EAAAC,cAAA,QAAMC,UAAU,QAAQ4I,QAASlI,KAAK2O,aAClC5G,EAAA3I,EAAAC,cAAA,KAAGC,UAAU,iBAGrByI,EAAA3I,EAAAC,cAAC8P,EAAD,CACIhC,SAAU6B,EACVvD,WAAYzL,KAAK8N,SACjBV,WAAYpN,KAAKwO,mBAMrCzG,EAAA3I,EAAAC,cAAA,OAAKC,UAAU,gBAAgB6I,MAAO,CAACC,QAAQd,EAAM,GAAG,SACpDS,EAAA3I,EAAAC,cAAC+P,EAAD,CAASpL,OAAQA,EACRoI,QAASA,EACTN,eAAgB9L,KAAKsO,WACrBxQ,KAAMA,EACN6N,WAAY3L,KAAK2L,cAG9B5D,EAAA3I,EAAAC,cAACgQ,EAAA,EAAD,CAAY7C,IAAKxM,KAAKwN,QACV8B,KAAK,+DACLC,eAAe,eACfC,eAAkBxP,KAAKyO,qBAEnC1G,EAAA3I,EAAAC,cAACoQ,EAAA,EAAD,CAAOC,KAAK,cAAcC,UAAW9M,cAzLhCD,aA2MNG,sBAZS,SAAClB,GAAD,MAAwB,CAC5CmN,cAAcnN,EAAMmN,gBAGG,SAACjC,GACxB,MAAO,CACHwB,iBAAmB,SAACS,GAChBjC,ECxOqC,SAACiC,GAC9C,MAAO,CACHtP,KAAMC,IACNqP,iBDqOaT,CAAiBS,OAKvBjM,CAA4CuK","file":"static/js/Search.1f542f5d.chunk.js","sourcesContent":["import {jsonp} from 'common/js/ws'\nimport {commonParams, options} from './config'\n\nexport function getSingerList() {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\n\n  const data = Object.assign({}, commonParams, {\n    channel: 'singer',\n    page: 'list',\n    key: 'all_all_all',\n    pagesize: 100,\n    pagenum: 1,\n    hostUin: 0,\n    needNewCode: 0,\n    platform: 'yqq'\n  })\n\n  return jsonp(url, data, options)\n}\n\nexport function getSingerDetail(singerId) {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\n\n  const data = Object.assign({}, commonParams, {\n    hostUin: 0,\n    needNewCode: 0,\n    platform: 'yqq',\n    order: 'listen',\n    begin: 0,\n    num: 80,\n    songstatus: 1,\n    singermid: singerId\n  })\n\n  return jsonp(url, data, options)\n}\n\n","/**\r\n * @Description: 输入数据： NoResultProps\r\n * @author: liaohuanyu\r\n * @date 2019/2/19\r\n*/\r\n\r\nimport React from 'react'\r\nimport './NoResult.scss'\r\n\r\ninterface NoResultProps{\r\n    title?:string\r\n}\r\n\r\nconst NoResult : React.SFC<NoResultProps> = ({title = ''}) => {\r\n    return (\r\n        <div className=\"no-result\">\r\n            <div className=\"no-result-icon\"></div>\r\n            <p className=\"no-result-text\">{title}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoResult\r\n","import * as types from './actionsTypes'\r\nimport { ISinger, IActionCreator } from 'store/stateTypes'\r\n\r\nexport const setSinger : IActionCreator = (singer:ISinger) => {\r\n    return {\r\n        type: types.SET_SINGER,\r\n        singer\r\n    }\r\n}","export default class SingerClass {\n  constructor({id, name}) {\n    this.id = id\n    this.name = name\n    this.avatar = `https://y.gtimg.cn/music/photo_new/T001R300x300M000${id}.jpg?max_age=2592000`\n  }\n}","import React,{ Component } from 'react'\r\nimport './singer-detail.scss'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { getSingerDetail } from 'api/singer'\r\nimport { connect } from 'react-redux'\r\nimport SingerClass from 'common/js/singer.js'\r\nimport {ERR_OK} from 'api/config'\r\nimport MusicList from 'components/music-list/MusicList'\r\nimport {createSong} from 'common/js/song.js'\r\nimport { withRouter } from 'react-router'\r\n\r\nimport {\r\n    ISong,\r\n    IStoreState,\r\n    ISinger\r\n} from 'store/stateTypes'\r\n\r\ninterface singerDetailStateType{\r\n    showMusicList: boolean,\r\n    songs:Array<ISong>\r\n}\r\n\r\ninterface singerDetailPropType{\r\n    singer:ISinger,\r\n    history:any,\r\n    location:any,\r\n    match:any\r\n}\r\n\r\n\r\nclass SingerDetailBase extends Component<singerDetailPropType, singerDetailStateType>{\r\n    unmoutedFlag:boolean;\r\n    constructor(props:singerDetailPropType){\r\n        super(props)\r\n        this.unmoutedFlag=false\r\n        this.state  = {\r\n            showMusicList: true,\r\n            songs:[]\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.setState({\r\n            showMusicList:false\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.props.singer && this.props.singer.id < 0){\r\n            this.props.history.push('/singer')\r\n            return\r\n        }\r\n        this._getSingerDetail()\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.unmoutedFlag=true\r\n    }\r\n\r\n    _getSingerDetail = () => {\r\n        getSingerDetail(this.props.singer.id).then((res) => {\r\n            if (res.code === ERR_OK && !this.unmoutedFlag) {\r\n                this.setState({\r\n                    songs: this._normalizeSongs(res.data.list)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    _normalizeSongs = (list:Array<any>) => {\r\n        let ret:any= []\r\n        list.forEach((item) => {\r\n            let {musicData} = item\r\n            if (musicData.songid && musicData.albummid) {\r\n                ret.push(createSong(musicData))\r\n            }\r\n        })\r\n        return ret\r\n    }\r\n\r\n    render(){\r\n        const { singer } = this.props;\r\n        const { songs } = this.state;\r\n        // console.log(\"singer detail\",singer)\r\n        return(\r\n            <CSSTransition\r\n                in={this.state.showMusicList}\r\n                timeout={500}\r\n                classNames=\"singer-detail-transition\"\r\n                appear={true}\r\n                unmountOnExit\r\n                onExited = { () => {\r\n                    this.props.history.goBack()\r\n                } }\r\n            >\r\n                <MusicList singerName={singer.name} bgImage={singer.avatar} songs={songs} back={this.back}/>\r\n            </CSSTransition>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state:IStoreState) => (\r\n    {\r\n        singer:state.singer\r\n    }\r\n)\r\n\r\nconst SingerDetail = withRouter(connect(mapStateToProps)(SingerDetailBase));\r\n\r\nexport default SingerDetail","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n/** Error message constants. */\n\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;","var root = require('./_root');\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\n\nvar now = function now() {\n  return root.Date.now();\n};\n\nmodule.exports = now;","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n/** Used as references for various `Number` constants. */\n\n\nvar NAN = 0 / 0;\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = toNumber;","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n/** `Object#toString` result references. */\n\n\nvar symbolTag = '[object Symbol]';\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\n\nmodule.exports = isSymbol;","import React,{ Component } from 'react'\r\nimport './SearchBox.scss'\r\nimport debounce from 'lodash/debounce'\r\n\r\ninterface SearchBoxPropType{\r\n    queryHandler:Function\r\n}\r\n\r\ninterface SearchBoxStateType{\r\n    placeholder:string,\r\n    query:string\r\n}\r\n\r\nclass SearchBox extends Component<SearchBoxPropType, SearchBoxStateType>{\r\n    queryHandler:any;\r\n    constructor(props:SearchBoxPropType){\r\n        super(props)\r\n        this.queryHandlerDebounce = debounce(this.queryHandlerDebounce, 500, {\r\n            leading: false,\r\n        });\r\n        this.state = {\r\n            placeholder:'搜索歌曲、歌手',\r\n            query:''\r\n        }\r\n    }\r\n\r\n    setQuery = (query:string) => {\r\n        this.setState({\r\n            query: query\r\n        })\r\n    }\r\n\r\n    onChangeHandler : React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n        this.setState({\r\n            query: e.target.value\r\n        })\r\n        // 如果只需要e.target.value, 则这里不需要e.persist()\r\n        // 如果异步回调函数需要对事件做处理，则需要e.persist();\r\n        // e.persist();\r\n        this.queryHandlerDebounce(e.target.value)\r\n    }\r\n\r\n    queryHandlerDebounce = (value:string) => {\r\n        this.props.queryHandler(value)\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({\r\n            query:''\r\n        })\r\n        this.props.queryHandler('')\r\n    }\r\n\r\n    render(){\r\n        const { placeholder, query } = this.state\r\n        return(\r\n            <div className=\"search-box\">\r\n                <i className=\"icon-search\"/>\r\n                <input className=\"box\"\r\n                       placeholder={placeholder}\r\n                       onChange={this.onChangeHandler.bind(this)}\r\n                       value={ query }\r\n                />\r\n                <i  className=\"icon-dismiss\"\r\n                    onClick={ this.clear }\r\n                    style={{display:query? \"\":\"none\"}}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchBox","import {jsonp} from 'common/js/ws'\nimport {commonParams, options} from './config'\nimport axios from 'axios'\n\nexport function getHotKey() {\n  const url = 'https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg'\n\n  const data = Object.assign({}, commonParams, {\n    uin: 0,\n    needNewCode: 1,\n    platform: 'h5'\n  })\n\n  return jsonp(url, data, options)\n}\n\nexport function searchOld(query, page, zhida, perpage) {\n  const url = 'https://c.y.qq.com/soso/fcgi-bin/search_for_qq_cp'\n\n  const data = Object.assign({}, commonParams, {\n    w: query,\n    p: page,\n    perpage,\n    n: perpage,\n    catZhida: zhida ? 1 : 0,\n    zhidaqu: 1,\n    t: 0,\n    flag: 1,\n    ie: 'utf-8',\n    sem: 1,\n    aggr: 0,\n    remoteplace: 'txt.mqq.all',\n    uin: 0,\n    needNewCode: 1,\n    platform: 'h5'\n  })\n\n  return jsonp(url, data, options)\n}\n\nexport function search(query, page, zhida, perpage) {\n  const url = 'api/search'\n\n  const data = Object.assign({}, commonParams, {\n    w: query,\n    p: page,\n    perpage,\n    n: perpage,\n    catZhida: zhida ? 1 : 0,\n    zhidaqu: 1,\n    flag: 1,\n    ie: 'utf-8',\n    sem: 1,\n    uin: 0,\n    ct: 24,\n    qqmusic_ver: 1298,\n    new_json: 1,\n    remoteplace: 'txt.yqq.song',\n    searchid: 61739102647515606,\n    t: 0,\n    aggr: 1,\n    cr: 1,\n    lossless: 0,\n    flag_qc: 0,\n    g_tk: 5381,\n    loginUin: 0,\n    hostUin: 0,\n    format: 'json',\n    inCharset: 'utf8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'yqq.json',\n    needNewCode: 0\n  })\n\n  return axios.get(url, {\n    params: data\n  }).then((res) => {\n    return Promise.resolve(res.data)\n  })\n}\n","import React,{ Component } from 'react'\r\nimport Loading from 'reuse/loading/Loading'\r\nimport NoResult from 'reuse/no-result/NoResult'\r\nimport Scroll from 'reuse/scroll/Scroll'\r\nimport './Suggest.scss'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport {setSinger} from 'actions/singer'\r\nimport {\r\n    setPlaying,\r\n    setFullScreen,\r\n    setSequenceList,\r\n    setPlaylist,\r\n    setCurrentIndex\r\n} from 'actions/player'\r\nimport SingerClass from 'common/js/singer.js'\r\n\r\nimport {\r\n    ISong,\r\n    IPlaying,\r\n    ICurrentIndex,\r\n    IMode,\r\n    IPlaylist,\r\n    ISequenceList,\r\n    IFullScreen,\r\n    IStoreState, ISinger\r\n} from 'store/stateTypes'\r\nimport { Dispatch } from 'redux'\r\n\r\nconst TYPE_SINGER = 'singer'\r\n\r\ninterface SuggestPropType{\r\n    result:Array<any>,\r\n    suggestHandler:Function,\r\n    hasMore:boolean,\r\n    page:number,\r\n    history:any,\r\n    setSinger:Function,\r\n    setPlaying:Function,\r\n    setFullScreen:Function,\r\n    setSequenceList:Function,\r\n    setPlaylist:Function,\r\n    setCurrentIndex:Function,\r\n    fullScreen : IFullScreen,\r\n    playlist : IPlaylist,\r\n    currentIndex : ICurrentIndex,\r\n    playing:IPlaying,\r\n    sequenceList:IPlaylist,\r\n    saveSearch:Function\r\n}\r\n\r\ninterface SuggestStateType{\r\n\r\n}\r\n\r\nclass Suggest extends Component<SuggestPropType, SuggestStateType>{\r\n    suggest:React.RefObject<Scroll>;\r\n    constructor(props:SuggestPropType){\r\n        super(props)\r\n        this.suggest = React.createRef()\r\n    }\r\n\r\n    getIconCls = (item:any) => {\r\n        if (item.type === TYPE_SINGER) {\r\n            return 'icon-mine'\r\n        } else {\r\n            return 'icon-music'\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(this.props.page === 1 && this.suggest.current){\r\n            this.suggest.current.scrollTo(0, 0)\r\n        }\r\n    }\r\n\r\n    findIndex = (list:ISequenceList, song:ISong) => {\r\n        return song && list.findIndex((item) => {\r\n            return item.id === song.id\r\n        })\r\n    }\r\n\r\n    insertSong = (song:ISong) => {\r\n        let playlist = this.props.playlist.slice()\r\n        let sequenceList = this.props.sequenceList.slice()\r\n        let currentIndex = this.props.currentIndex\r\n        // 记录当前歌曲\r\n        let currentSong = playlist[currentIndex]\r\n        // 查找当前列表中是否有待插入的歌曲并返回其索引\r\n        let fpIndex = this.findIndex(playlist, song)\r\n        // 因为是插入歌曲，所以索引+1\r\n        currentIndex++\r\n        // 插入这首歌到当前索引位置\r\n        playlist.splice(currentIndex, 0, song)\r\n        // 如果已经包含了这首歌\r\n        if (fpIndex > -1) {\r\n            // 如果当前插入的序号大于列表中的序号\r\n            if (currentIndex > fpIndex) {\r\n                playlist.splice(fpIndex, 1)\r\n                currentIndex--\r\n            } else {\r\n                playlist.splice(fpIndex + 1, 1)\r\n            }\r\n        }\r\n\r\n        let currentSIndex = this.findIndex(sequenceList, currentSong) + 1\r\n\r\n        let fsIndex = this.findIndex(sequenceList, song)\r\n\r\n        sequenceList.splice(currentSIndex, 0, song)\r\n\r\n        if (fsIndex > -1) {\r\n            if (currentSIndex > fsIndex) {\r\n                sequenceList.splice(fsIndex, 1)\r\n            } else {\r\n                sequenceList.splice(fsIndex + 1, 1)\r\n            }\r\n        }\r\n        this.props.setPlaylist(playlist)\r\n        this.props.setSequenceList(sequenceList)\r\n        this.props.setCurrentIndex(currentIndex)\r\n        this.props.setFullScreen(true)\r\n        this.props.setPlaying(true)\r\n    }\r\n\r\n    selectItem = (item:any) => {\r\n        if (item.type === TYPE_SINGER) {\r\n            const singer = new SingerClass({\r\n                id: item.singerMID,\r\n                name: item.singerName\r\n            })\r\n            this.props.history.push(`/search/${singer.id}`)\r\n            this.props.setSinger(singer)\r\n        } else {\r\n            this.insertSong(item)\r\n        }\r\n        this.props.saveSearch()\r\n    }\r\n\r\n    getDisplayName= (item:any) => {\r\n        if (item.type === TYPE_SINGER) {\r\n            return item.singerName\r\n        } else {\r\n            return `${item.name}-${item.singer}`\r\n        }\r\n    }\r\n\r\n    pullUpHandler = () => {\r\n        this.props.suggestHandler()\r\n    }\r\n\r\n    render(){\r\n        const { result, hasMore } = this.props\r\n        return(\r\n            <Scroll\r\n                probeType={1}\r\n                pullUp={true}\r\n                pullUpHandler={this.pullUpHandler}\r\n                className=\"suggest\"\r\n                ref={this.suggest}\r\n            >\r\n                <ul className=\"suggest-list\">\r\n                    {\r\n                        !!result.length && result.map((item, index)=>(\r\n                            <li  key={index}\r\n                                 className=\"suggest-item\"\r\n                                 onClick={() => {this.selectItem(item)}}\r\n                            >\r\n                                <div className=\"icon\">\r\n                                    <i className={this.getIconCls(item)}/>\r\n                                </div>\r\n                                <div className=\"name\">\r\n                                    <p className=\"text\">{this.getDisplayName(item)}</p>\r\n                                </div>\r\n                            </li>\r\n                        ))\r\n                    }\r\n                    {\r\n                        hasMore &&\r\n                        <Loading />\r\n                    }\r\n\r\n                </ul>\r\n                <div className=\"no-result-wrapper\" style={{display:(!hasMore && !result.length)?\"\":\"none\"}}>\r\n                    <NoResult title=\"抱歉，暂无搜索结果\"/>\r\n                </div>\r\n            </Scroll>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state:IStoreState) => ({\r\n    fullScreen : state.fullScreen,\r\n    playlist : state.playlist,\r\n    currentIndex : state.currentIndex,\r\n    playing:state.playing,\r\n    sequenceList:state.sequenceList\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch, ownProps:any) => {\r\n    return {\r\n        ...ownProps,\r\n        setSinger: (singer:ISinger) => (\r\n            dispatch(setSinger(singer))\r\n        ),\r\n        setPlaying: (playing:IPlaying) => (\r\n            dispatch(setPlaying(playing))\r\n        ),\r\n        setFullScreen: (fullScreen:IFullScreen) => (\r\n            dispatch(setFullScreen(fullScreen))\r\n        ),\r\n        setSequenceList: (list:ISequenceList) => (\r\n            dispatch(setSequenceList(list))\r\n        ),\r\n        setPlaylist: (list:IPlaylist) => (\r\n            dispatch(setPlaylist(list))\r\n        ),\r\n        setCurrentIndex: (index:ICurrentIndex) => (\r\n            dispatch(setCurrentIndex(index))\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Suggest))","import React,{ Component } from 'react'\r\nimport './SearchList.scss'\r\n\r\ninterface SearchListProps{\r\n    searches:Array<string>,\r\n    selectItem:Function,\r\n    deleteItem:Function\r\n}\r\n\r\n\r\n\r\nconst SearchList : React.SFC<SearchListProps> = ({searches,selectItem,deleteItem}) => {\r\n    return(\r\n        <div className=\"search-list\" style={{display:searches.length?\"\":\"none\"}}>\r\n            <ul>\r\n                {\r\n                    !!searches.length && searches.map((item, index)=>(\r\n                        <li key={index}\r\n                            className=\"search-item\"\r\n                            onClick={()=>{selectItem(item)}}\r\n                        >\r\n                            <span className=\"text\">{item}</span>\r\n                            <span className=\"icon\"\r\n                                  onClick={(e) => {\r\n                                     e.stopPropagation()\r\n                                     deleteItem(item)\r\n                                  }}>\r\n                        <i className=\"icon-delete\"/>\r\n                    </span>\r\n                        </li>\r\n                    ))\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchList","import React,{ Component } from 'react'\r\nimport SearchBox from 'reuse/search-box/SearchBox'\r\nimport './Search.scss'\r\nimport {getHotKey, search} from 'api/search'\r\nimport {ERR_OK} from 'api/config'\r\nimport Suggest from 'components/suggest/Suggest'\r\nimport {createSongSearch} from 'common/js/song'\r\nimport { Route, withRouter } from 'react-router'\r\nimport SingerDetail from '../singer-detail/SingerDetail'\r\nimport { connect } from 'react-redux'\r\nimport { setSearchHistory } from 'actions/search'\r\nimport { saveSearch, deleteSearch, clearSearch } from 'common/js/cache'\r\nimport SearchList from 'reuse/search-list/SearchList'\r\nimport Confirm from 'reuse/confirm/Confirm'\r\n\r\nimport {\r\n    IStoreState,\r\n    ISearchHistory\r\n} from 'store/stateTypes'\r\nimport { Dispatch } from 'redux'\r\n\r\nconst TYPE_SINGER = 'singer'\r\nconst perpage = 20\r\n\r\ninterface SearchPropType{\r\n    setSearchHistory:Function,\r\n    searchHistory:ISearchHistory\r\n}\r\n\r\ninterface SearchStateType{\r\n    hotKey:Array<any>,\r\n    query:string,\r\n    page:number,\r\n    result:Array<any>,\r\n    hasMore:boolean\r\n}\r\n\r\nclass Search extends Component<SearchPropType, SearchStateType>{\r\n    searchBox:React.RefObject<SearchBox>;\r\n    unmoutedFlag:boolean;\r\n    confirm:React.RefObject<Confirm>;\r\n    constructor(props:SearchPropType){\r\n        super(props)\r\n        this.unmoutedFlag = false\r\n        this.searchBox = React.createRef()\r\n        this.confirm = React.createRef()\r\n        this.state = {\r\n            hotKey:[],\r\n            query:'',\r\n            page:1,\r\n            result:[],\r\n            hasMore:false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._getHotKey()\r\n\r\n    }\r\n\r\n    onQueryChange = (query:string) => {\r\n        this.setState({\r\n            query\r\n        })\r\n        this.search(query)\r\n    }\r\n\r\n    _getHotKey = () => {\r\n        getHotKey().then((res) => {\r\n            if (res.code === ERR_OK && !this.unmoutedFlag) {\r\n                this.setState({\r\n                    hotKey: res.data.hotkey.slice(0, 10)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    addQuery = (query:string) => {\r\n        if(!this.searchBox.current)return\r\n        // console.log(\"this\",this)\r\n        this.searchBox.current.setQuery(query)\r\n        this.setState({\r\n            query\r\n        })\r\n        this.search(query)\r\n    }\r\n\r\n    //完全受控组件，子组件需要依赖父组件的props并且执行异步请求最后更新state的情况下\r\n    //业务逻辑简单的可以通过static getDerivedStateFromProps()静态方法来实现\r\n    search = (query:string) => {\r\n        this.setState({\r\n            page:1,\r\n            hasMore:true\r\n        })\r\n        search(query, this.state.page, true, perpage).then((res) => {\r\n            if (res.code === ERR_OK && !this.unmoutedFlag) {\r\n                this.setState({\r\n                    result : this._genResult(res.data),\r\n                    hasMore : this._checkMore(res.data)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    _checkMore = (data:any) => {\r\n        const song = data.song\r\n        if (!song.list.length || (song.curnum + song.curpage * perpage) > song.totalnum) {\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    _genResult = (data:any) => {\r\n        let ret = []\r\n        if (data.zhida && data.zhida.zhida_singer && data.zhida.zhida_singer.singerID) {\r\n            ret.push({...data.zhida.zhida_singer, ...{type: TYPE_SINGER}})\r\n        }\r\n        if (data.song) {\r\n            ret = ret.concat(this._normalizeSongs(data.song.list))\r\n        }\r\n        return ret\r\n    }\r\n\r\n    _normalizeSongs(list:any) {\r\n        let ret:Array<any> = []\r\n        list.forEach((musicData:any) => {\r\n            if (musicData.id && musicData.album.mid) {\r\n                ret.push(createSongSearch(musicData))\r\n            }\r\n        })\r\n        return ret\r\n    }\r\n\r\n    searchMore = () => {\r\n        if (!this.state.hasMore) {\r\n            return\r\n        }\r\n        this.setState((state) => ({\r\n            page : state.page + 1\r\n        }))\r\n        search(this.state.query, this.state.page, true , perpage).then((res) => {\r\n            if (res.code === ERR_OK && !this.unmoutedFlag) {\r\n                this.setState({\r\n                    result : this.state.result.concat(this._genResult(res.data)),\r\n                    hasMore : this._checkMore(res.data)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    saveSearch = () => {\r\n        this.props.setSearchHistory(saveSearch(this.state.query))\r\n    }\r\n\r\n    deleteSearch = (query:string) => {\r\n        this.props.setSearchHistory(deleteSearch(query))\r\n    }\r\n\r\n    clearSearchHistory = () => {\r\n        this.props.setSearchHistory(clearSearch())\r\n    }\r\n\r\n    showConfirm = () => {\r\n        if(!this.confirm.current)return\r\n        this.confirm.current.show()\r\n    }\r\n\r\n    render(){\r\n        const { hotKey, query, result, hasMore, page } = this.state\r\n        const { searchHistory } = this.props\r\n        return(\r\n            <div className=\"search\">\r\n                <div className=\"search-box-wrapper\">\r\n                    <SearchBox ref={this.searchBox} queryHandler={this.onQueryChange}/>\r\n                </div>\r\n                <div className=\"shortcut-wrapper\" style={{display:!query?\"\":\"none\"}}>\r\n                    <div className=\"shortcut\">\r\n                        <div>\r\n                            <div className=\"hot-key\">\r\n                                <h1 className=\"title\">热门搜索</h1>\r\n                                <ul>\r\n                                    {\r\n                                        !!hotKey.length && hotKey.map((item, index) => (\r\n                                            <li key={index}\r\n                                                className=\"item\"\r\n                                                onClick={()=>{this.addQuery(item.k)}}\r\n                                            >\r\n                                                <span>{item.k}</span>\r\n                                            </li>\r\n                                        ))\r\n                                    }\r\n                                </ul>\r\n                            </div>\r\n                            <div className=\"search-history\">\r\n                                <h1 className=\"title\">\r\n                                    <span className=\"text\">搜索历史</span>\r\n                                    <span className=\"clear\" onClick={this.showConfirm}>\r\n                                        <i className=\"icon-clear\"/>\r\n                                    </span>\r\n                                </h1>\r\n                                <SearchList\r\n                                    searches={searchHistory}\r\n                                    selectItem={this.addQuery}\r\n                                    deleteItem={this.deleteSearch}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"search-result\" style={{display:query?\"\":\"none\"}}>\r\n                    <Suggest result={result}\r\n                             hasMore={hasMore}\r\n                             suggestHandler={this.searchMore}\r\n                             page={page}\r\n                             saveSearch={this.saveSearch}\r\n                    />\r\n                </div>\r\n                <Confirm    ref={this.confirm}\r\n                            text=\"是否清空所有搜索历史\"\r\n                            confirmBtnText=\"清空\"\r\n                            confirmHandler = {this.clearSearchHistory}\r\n                />\r\n                <Route path=\"/search/:id\" component={SingerDetail}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state:IStoreState) => ({\r\n    searchHistory:state.searchHistory\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch:Dispatch) => {\r\n    return {\r\n        setSearchHistory : (searchHistory:ISearchHistory) => {\r\n            dispatch(setSearchHistory(searchHistory))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Search)","import * as types from './actionsTypes'\r\nimport { ISearchHistory, IActionCreator } from 'store/stateTypes'\r\n\r\nexport const setSearchHistory : IActionCreator = (searchHistory:ISearchHistory) => {\r\n    return {\r\n        type: types.SET_SEARCH_HISTORY,\r\n        searchHistory\r\n    }\r\n}"],"sourceRoot":""}