(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{199:function(t,e,n){},201:function(t,e,n){},225:function(t,e,n){"use strict";n.r(e);var a=n(45),s=n(3),i=n(2),o=n(5),c=n(4),r=n(6),u=n(0),l=n.n(u),p=(n(199),n(19)),m=n(20),h=n(44),g=n(12);var f=n(52),d=n(221),b=(n(201),n(47)),v=n(17),L=n(48),k=n(46),j=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(o.a)(this,Object(c.a)(e).call(this,t))).unmoutedFlag=void 0,n.back=function(){n.setState({showMusicList:!1})},n._normalizeSongs=function(t){var e=[];return t.forEach(function(t){var n=t.data;n.songid&&n.albummid&&e.push(Object(k.a)(n))}),e},n.unmoutedFlag=!1,n.state={showMusicList:!0,songs:[]},n}return Object(r.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.props.topList&&this.props.topList.id<0?this.props.history.push("/rank"):this._getMusicList()}},{key:"componentWillUnmount",value:function(){this.unmoutedFlag=!0}},{key:"_getMusicList",value:function(){var t=this;this.props.topList.id?function(t){var e=Object.assign({},g.b,{topid:t,needNewCode:1,uin:0,tpl:3,page:"detail",type:"top",platform:"h5"});return Object(h.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg",e,g.c)}(this.props.topList.id).then(function(e){e.code!==g.a||t.unmoutedFlag||t.setState({songs:t._normalizeSongs(e.songlist)})}):this.props.history.push("/rank")}},{key:"render",value:function(){var t=this,e=this.props.topList,n=this.state.songs,a=n[0]&&n[0].image;return l.a.createElement(b.CSSTransition,{in:this.state.showMusicList,timeout:500,classNames:"top-list-transition",appear:!0,unmountOnExit:!0,onExited:function(){t.props.history.goBack()}},l.a.createElement(L.a,{rank:!0,singerName:e.topTitle,bgImage:a,songs:n,back:this.back}))}}]),e}(u.Component),O=Object(d.a)(Object(v.b)(function(t,e){return Object(a.a)({topList:t.topList},e)})(j)),y=n(49),E=n(7),N=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(o.a)(this,Object(c.a)(e).call(this,t))).unmoutedFlag=void 0,n.selectItem=function(t){n.props.history.push("/rank/".concat(t.id)),n.props.setTopList(t)},n._getTopList=function(){(function(){var t=Object.assign({},g.b,{uin:0,needNewCode:1,platform:"h5"});return Object(h.a)("https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg",t,g.c)})().then(function(t){t.code!==g.a||n.unmoutedFlag||n.setState({topListArr:t.data.topList})})},n.unmoutedFlag=!1,n.state={topListArr:[]},n}return Object(r.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this._getTopList()}},{key:"render",value:function(){var t=this,e=this.state.topListArr;return l.a.createElement("div",{className:"rank",ref:"rank"},l.a.createElement(m.a,{className:"toplist"},l.a.createElement("ul",null,!!e.length&&e.map(function(e,n){return l.a.createElement("li",{className:"item",key:n,onClick:function(){t.selectItem(e)}},l.a.createElement("div",{className:"icon"},l.a.createElement(y.a,{className:"RankListLazy",containerClassName:"rank",sizes:"200px",src:"https://placehold.it/200x300?text=Image1",srcset:e.picUrl,width:"100",height:"100"})),l.a.createElement("ul",{className:"songlist"},e.songList&&e.songList.map(function(t,e){return l.a.createElement("li",{className:"song",key:e},l.a.createElement("span",null,e+1),l.a.createElement("span",null,t.songname,"-",t.singername))})))})),!e.length&&l.a.createElement("div",{className:"loading-container"},l.a.createElement(p.a,null))),l.a.createElement(f.a,{path:"/rank/:id",component:O}))}}]),e}(u.Component);e.default=Object(d.a)(Object(v.b)(function(t,e){return Object(a.a)({},e)},function(t){return{setTopList:function(e){t(function(t){return{type:E.j,topList:t}}(e))}}})(N))}}]);
//# sourceMappingURL=Rank.e76b1c9b.chunk.js.map